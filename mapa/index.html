<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Mapa – Diagnóstico Sanitário</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
#map { height: 100vh; }
</style>
</head>

<body>
<div id="map"></div>

<script src="./escolas.js"></script>

<script>
const map = L.map("map").setView([-3.73, -38.54], 12);

L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
  attribution: "© OpenStreetMap"
}).addTo(map);

document.addEventListener("escolasCarregadas", () => {
  window.escolas.forEach(e => {
    L.circleMarker([e.lat, e.lng], {
      radius: 7,
      color: "#999",
      fillColor: "#999",
      fillOpacity: 0.8
    })
    .bindPopup(e.nome)
    .addTo(map);
  });
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CheckInfra ‚Äì Mapa Sanit√°rio Escolar</title>
<link rel="stylesheet" href="mapa.css">

<!-- Leaflet CSS/JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- MarkerCluster CSS/JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
<script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>

</head>
<body>

<div class="nav-global">
  <button onclick="history.back()" title="Voltar">‚¨ÖÔ∏è</button>
  <a href="./index.html" title="In√≠cio">üè†</a>
</div>

<div class="painel">
  <label><input type="checkbox" id="fAdequado" checked> <span class="bola verde"></span> Adequado</label>
  <label><input type="checkbox" id="fAlerta" checked> <span class="bola laranja"></span> Alerta</label>
  <label><input type="checkbox" id="fAtencao" checked> <span class="bola amarela"></span> Aten√ß√£o</label>
  <label><input type="checkbox" id="fCritico" checked> <span class="bola vermelho"></span> Cr√≠tico</label>
  <label><input type="checkbox" id="togglePulso" checked> Mapa vivo</label>
  <label><input type="checkbox" id="toggleBairros"> Leitura por bairros</label>
</div>

<div id="map"></div>

<script type="module" src="mapa.js"></script>
<script type="module" src="mapabairros.js"></script>

<!-- Legenda -->
<script>
const legenda = L.control({ position: "bottomright" });
legenda.onAdd = function(){
  const div = L.DomUtil.create("div","legenda");
  div.innerHTML = `
    <h4>Leitura do mapa</h4>
    <div><span class="bola verde"></span> Situa√ß√£o adequada</div>
    <div><span class="bola laranja"></span> Alerta</div>
    <div><span class="bola amarela"></span> Aten√ß√£o</div>
    <div><span class="bola vermelho"></span> Cr√≠tico</div>
    <hr>
    <small>O pulso indica intensidade relativa de aten√ß√£o territorial.<br>N√£o substitui inspe√ß√£o t√©cnica presencial.</small>
  `;
  return div;
};
legenda.addTo(map);
</script>

</body>
</html>